<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{site_name}} | {{page_title}}</title>
    <link href="/static/style.css" rel="stylesheet" type="text/css" />
    <link href="/static/user.css" rel="stylesheet" type="text/css" />
    <script src="/static/script.js" type="text/javascript"></script>

<script src="https://accounts.google.com/gsi/client">
</script>

<script>
    var userData;

    function getUser() {
        return userData;
    }
    
    function handleGoogleLogin(response) {
        const responsePayload = decodeJwt(response.credential);
        userData = responsePayload;

        console.log("ID: " + responsePayload.sub);
        console.log('Full Name: ' + responsePayload.name);
        console.log('Given Name: ' + responsePayload.given_name);
        console.log('Family Name: ' + responsePayload.family_name);
        console.log("Image URL: " + responsePayload.picture);
        console.log("Email: " + responsePayload.email);
    }

    function decodeJwt(token) {
        try {
            let pieces = token.split('.');
            let payload = pieces[1];
            let s = atob(payload);
            return JSON.parse(s);
        } catch (e) {
            return null;
        }
    }
</script>
</head>

<body>
    <!-- Top navigation menu -->
    <div class="nav">
        <div class="content-1"></div>
        <div class="content-1"><a href="/">Home</a></div>
        <div class="content-2"></div>
        <div class="content-1"><a href="/user">Account</a></div>
        <div class="content-2"></div>
        <div class="content-3"><a href="/signup">Sign Up</a></div>
        <div class="content-2"></div>
        <div class="content-3"><a href="/login">Log In</a></div>
        <div class="content-1"></div>
    </div>
    <!-- All these pitt sites have a little gold stripe here? -->
    <div class="stripe">
        <br />
    </div>
    <section>
        {% block content %}
        {% endblock %}
    </section>
</body>